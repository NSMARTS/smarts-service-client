<div class="page">
  <div class="page_header">
    <div class="page_title">Add Manager's Employees</div>
    <button mat-flat-button class="table_add_button" (click)="addmanagerEmployees()">Request</button>
  </div>
  Click on the employees you want to add and press the request button.
  <div class="filter">
    <mat-form-field appearance="outline">
      <mat-label>Filter</mat-label>
      <input matInput (keyup)="applyFilter($event)" placeholder="Manager's Employees" #input>
    </mat-form-field>
  </div>

  <div class="table-container">
    <table mat-table [dataSource]="dataSource" class="mat-elevation-z8 table">

      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef> Name </th>
        <td mat-cell *matCellDef="let element"> {{element.username}} </td>
      </ng-container>

      <ng-container matColumnDef="email">
        <th mat-header-cell *matHeaderCellDef> Email </th>
        <td mat-cell *matCellDef="let element"> {{element.email}} </td>
      </ng-container>

      <ng-container matColumnDef="year">
        <th mat-header-cell *matHeaderCellDef> Year </th>
        <td mat-cell *matCellDef="let element">
          <ng-container>
            {{ element.year + 1}} year(s)
          </ng-container>
        </td>
      </ng-container>

      <ng-container matColumnDef="entitlement">
        <th mat-header-cell *matHeaderCellDef> Taken/Entitlement </th>
        <td mat-cell *matCellDef="let element"> {{element.usedLeaveData}} /
          {{element.totalAnnualLeave}} </td>
      </ng-container>


      <ng-container matColumnDef="sickLeave">
        <th mat-header-cell *matHeaderCellDef> Taken/Sick Leave </th>
        <td mat-cell *matCellDef="let element">
          {{ element.usedSickLeave }} / {{
          element.totalSickLeave }}
        </td>
      </ng-container>

      <ng-container matColumnDef="rollover">
        <th mat-header-cell *matHeaderCellDef> Taken/Rollover </th>
        <td mat-cell *matCellDef="let element">
          <ng-container *ngIf="element.personalLeave.isRollover; else noRollover">
            {{ element.usedRollover }} / {{
            element.totalRollover }}
          </ng-container>
          <ng-template #noRollover>
            X
          </ng-template>
        </td>
      </ng-container>

      <ng-container matColumnDef="replacementDay">
        <th mat-header-cell *matHeaderCellDef> Taken/RD </th>
        <td mat-cell *matCellDef="let element">
          <span *ngIf="element.personalLeave.isReplacementDay">
            {{ element.usedReplacement }} / {{
            element.totalReplacement }}
          </span>
          <span *ngIf="!element.personalLeave.isReplacementDay">
            X
          </span>
        </td>
      </ng-container>

      <ng-container matColumnDef="advanceLeave">
        <th mat-header-cell *matHeaderCellDef> Used Advance Leave </th>
        <td mat-cell *matCellDef="let element">
          <span *ngIf="element.personalLeave.isAdvanceLeave">
            O
          </span>
          <span *ngIf="!element.personalLeave.isAdvanceLeave">
            X
          </span>
        </td>
      </ng-container>

      <ng-container matColumnDef="annualPolicy">
        <th mat-header-cell *matHeaderCellDef> Annual Policy </th>
        <td mat-cell *matCellDef="let element">
          <span *ngIf="element.personalLeave.annualPolicy === 'byContract'">
            byContract
          </span>
          <span *ngIf="element.personalLeave.annualPolicy==='byYear'">
            byYear
          </span>
        </td>
      </ng-container>
      <ng-container matColumnDef="empStartDate">
        <th mat-header-cell *matHeaderCellDef> Contract Start </th>
        <td mat-cell *matCellDef="let element">
          <span>
            {{element.empStartDate}}
          </span>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef=" displayedColumns; sticky: true"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;" [ngClass]="{ 'click-row': row.isClick }"
        (click)="clickManagerEmployees(row)"></tr>
      <tr class="mat-row" *matNoDataRow>
        <td class="mat-cell" colspan="9999">
          No data
        </td>
      </tr>
    </table>
  </div>

</div>