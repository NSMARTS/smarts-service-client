<div class="page">
    <div class="page_header">
        <div class="page_title">{{employeeUsername}} <span style="font-weight: 400;">(Contract Date: {{empStartDate | date: 'YYYY-MM-dd'}})</span></div>
    </div>

    <div class="cardContainer">
        <div class="cardMgCtr">
            <mat-card>
                <mat-card-title fxLayout="row" fxLayoutAlign="space-between center" style="width: 100%; padding: 10px 20px;">
                    <p>
                        {{employeeUsername}} ({{employeeYear}} year)
                    </p>
                </mat-card-title>

                <mat-divider> </mat-divider>

                <mat-card-content style="width: 100%; padding: 10px 35px; box-sizing: border-box; display: flex;">
                    <p class="img"><img [src]="employeeProfileImgPath" alt=""></p>
                    <div class="info">
                        <p>{{employeeEmail}} </p>
                        <p>{{ employeePhoneNumber ? employeePhoneNumber : 'Phone not registered.'}}</p>
                    </div>
                </mat-card-content>
            </mat-card>

            <mat-card>
                <mat-card-title  fxLayout="row" fxLayoutAlign="space-between center" style="width: 100%; padding: 10px 20px;">
                    <p>
                        Managers ({{numberOfManagers}} person)
                    </p>
                </mat-card-title>

                <mat-divider> </mat-divider>

                <mat-card-content>
                    <section>
                        <table mat-table class="demo-table table" [dataSource]="matchingData">
                            <ng-container matColumnDef="managerImg">
                                <th mat-header-cell *matHeaderCellDef></th>
                                <td mat-cell *matCellDef="let element"><img [src]="element?.profileImgPath" alt="" style="width: 24px; padding-top: 10px;"> </td>
                            </ng-container>
                            
                            <ng-container matColumnDef="managerName">
                                <th mat-header-cell *matHeaderCellDef></th>
                                <td mat-cell *matCellDef="let element"> {{element?.username}}</td>
                            </ng-container>
                            
                            <ng-container matColumnDef="managerEmail">
                                <th mat-header-cell *matHeaderCellDef></th>
                                <td mat-cell *matCellDef="let element"> ({{element?.email}})</td>
                            </ng-container>
                        
                            <tr mat-header-row *matHeaderRowDef="displayedColumns2"></tr>
                            <tr mat-row *matRowDef="let row; columns: displayedColumns2;"></tr>
                            <tr class="mat-row" *matNoDataRow>
                                <td class="mat-cell" colspan="9999">
                                    No data
                                </td>
                            </tr>
                        </table>
                    </section>
                </mat-card-content>
            </mat-card>

            <mat-card class="annualLeave">
                <mat-card-title fxLayout="row" fxLayoutAlign="space-between center" style="width: 100%; padding: 10px 20px;">
                    <p>Annual leave</p>
                </mat-card-title>

                <mat-divider> </mat-divider>
                
                <mat-card-content style="width: 100%; padding: 10px 35px;">
                    <div style="display: flex;">
                        <p>Annual policy</p> 
                        <mat-radio-group [(ngModel)]="annualPolicy" [disabled]="isRadioGroupDisabled">
                            <mat-radio-button value="byYear">by year</mat-radio-button>
                            <mat-radio-button value="byContract">by contract</mat-radio-button>
                        </mat-radio-group>
                    </div>
                    <div style="display: flex;">
                        <p>Used Advance Leave</p>
                        <mat-radio-group [(ngModel)]="usedAdvanceLeave" [disabled]="isRadioGroupDisabled">
                            <mat-radio-button value="true">Yes</mat-radio-button>
                            <mat-radio-button value="false">No</mat-radio-button>
                        </mat-radio-group>
                    </div>
                </mat-card-content>
            </mat-card>
        </div>

    <div class="table_container">
        <table mat-table class="table" [dataSource]="leaveData" matSort matSortActive="createdAt" matSortDisableClear
        matSortDirection="desc">
  
        <ng-container matColumnDef="year">
            <th mat-header-cell *matHeaderCellDef> Year </th>
            <td mat-cell *matCellDef="let element"> {{element?.userCareer}} </td>
          </ng-container>
    
          <ng-container matColumnDef="annualLeave">
            <th mat-header-cell *matHeaderCellDef> Annual Leave </th>
            <td mat-cell *matCellDef="let element"> {{element?.AnnualLeave.taken}}/{{element?.AnnualLeave.total}}</td>
          </ng-container>
    
          <ng-container matColumnDef="sickLeave">
            <th mat-header-cell *matHeaderCellDef> Sick Leave </th>
            <td mat-cell *matCellDef="let element"> {{element?.SickLeave.taken}}/{{element?.SickLeave.total}} </td>
          </ng-container>
    
          <ng-container matColumnDef="rollover">
            <th mat-header-cell *matHeaderCellDef> Rollover </th>
            <td mat-cell *matCellDef="let element"> {{element?.Rollover.taken}}/{{element?.Rollover.total}} </td>
          </ng-container>
    
          <ng-container matColumnDef="replacementDay">
            <th mat-header-cell *matHeaderCellDef> Replacement Day </th>
            <td mat-cell *matCellDef="let element"> {{element?.Replacement.taken}}/{{element?.Replacement.total}} </td>
          </ng-container>
  
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        <tr class="mat-row" *matNoDataRow>
          <td class="mat-cell" colspan="9999">
            No data
          </td>
        </tr>
      </table>
    </div>

</div>