<div class="page">
    <div class="page_header">
        <div class="page_title">Country List</div>
        <button mat-flat-button (click)="openAddCountry();">Add Country</button>
    </div>

	<div class="table_container">

        <div class="filter">
            <div class="selectContent">
                <mat-form-field appearance="outline">
                    <mat-label>Filter</mat-label>
                    <input matInput (keyup)="applyFilter($event)" placeholder="Country" #input>
                </mat-form-field>
            </div>
        </div>

		<table mat-table class="table" [dataSource]="countryList">

            <ng-container matColumnDef="countryCode">
                <th mat-header-cell *matHeaderCellDef> Code </th>
                <td mat-cell *matCellDef="let element"> {{element?.countryCode}}</td>
            </ng-container>

			<ng-container matColumnDef="countryName">
				<th mat-header-cell *matHeaderCellDef> Country Name </th>
				<td mat-cell *matCellDef="let element"> {{element?.countryName}} </td>
			</ng-container>

            <ng-container matColumnDef="openIn">
                <th mat-header-cell *matHeaderCellDef></th>
                <td mat-cell *matCellDef="let element">
                    <mat-icon (click)="selectHoliday(element._id, element?.countryName)">open_in_new</mat-icon>
                </td>
            </ng-container>
    
            <ng-container matColumnDef="menu">
                <th mat-header-cell *matHeaderCellDef></th>
                <td mat-cell *matCellDef="let element">
                    <button mat-icon-button [matMenuTriggerFor]="menu" (click)="$event.stopPropagation()"><mat-icon>more_vert</mat-icon></button>
                    <mat-menu #menu="matMenu">
                    <button mat-menu-item (click)="editCountry(element._id)"><mat-icon>edit</mat-icon>Edit</button>
                    <button mat-menu-item (click)="deleteCountry(element._id)"><mat-icon>delete</mat-icon>Delete</button>
                    </mat-menu>
                </td>
            </ng-container>

			<tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
			<tr mat-row *matRowDef="let row; columns: displayedColumns;" (click)="selectHoliday(row._id, row.countryName)"></tr>
			<tr class="mat-row" *matNoDataRow>
				<td class="mat-cell" colspan="9999">
					No data
				</td>
			</tr>

		</table>
			
        <mat-paginator [length]="100" [pageSize]="10" [pageSizeOptions]="[5, 10, 50]" showFirstLastButtons></mat-paginator>

	</div>

</div>