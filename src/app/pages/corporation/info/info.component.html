<div class="page">

    <div class="dashboard_container">
        <div class="dashboard_top_container">
            <mat-card class="mat-elevation-z0">
                <mat-card-header>
                    <mat-card-subtitle>EMPLOYEE</mat-card-subtitle>
                </mat-card-header>
                <mat-card-content>
                    <p>{{allCompanyCount?.employeeCount}}</p>
                </mat-card-content>
                <p class="img">
                    <img src="assets/image/employee.png" class="employeeImg">
                </p>
            </mat-card>
            <mat-card>
                <mat-card-header>
                    <mat-card-subtitle>SUPER MANAGER</mat-card-subtitle>
                </mat-card-header>
                <mat-card-content>
                    <p>{{allCompanyCount?.superManagerCount}}</p>
                </mat-card-content>
                <p class="img">
                    <img src="assets/image/superManager.png" class="superManagerImg">
                </p>
            </mat-card>
            <mat-card>
                <mat-card-header>
                    <mat-card-subtitle>MANAGER</mat-card-subtitle>
                </mat-card-header>
                <mat-card-content>
                    <p>{{allCompanyCount?.managerCount}}</p>
                </mat-card-content>
                <p class="img">
                    <img src="assets/image/manager.png" class="managerImg">
                </p>
            </mat-card>
            <mat-card>
                <mat-card-header>
                    <mat-card-subtitle>PAY DATE</mat-card-subtitle>
                </mat-card-header>
                <mat-card-content>
                    <p>{{allCompanyCount?.payDate | date: 'dd'}}</p>
                </mat-card-content>
                <p class="img">
                    <img src="assets/image/payDate.png" class="payDateImg">
                </p>
            </mat-card>
        </div>

        <div class="dashboard_bottom_container">
            <mat-card>
                <div class="button">
                    <p>Announcement</p>                
                    <mat-button-toggle-group [(ngModel)]="toggleValue" (ngModelChange)="onToggleChange()">
                        <mat-button-toggle value="all" style="min-width:110px; margin-right:10px; border-radius: 5px 5px 0 0;">All</mat-button-toggle>
                        <mat-button-toggle value="meeting" style="min-width:110px; margin-right:10px; border-radius: 5px 5px 0 0; border-left: none;">Meeting</mat-button-toggle>
                        <mat-button-toggle value="notification" style="min-width:110px; border-radius: 5px 5px 0 0; border-left: none;">Notice</mat-button-toggle>
                    </mat-button-toggle-group>
                </div>

                <section class="example-container" tabindex="0">
                <table mat-table class="table" [dataSource]="toggleList">
                        <ng-container matColumnDef="date">
                            <th mat-header-cell *matHeaderCellDef> Date </th>
                            <td mat-cell *matCellDef="let element"> 
                                <ng-container *ngIf="element?.type === 'meeting';">
                                    {{element?.startDate | date: 'YYYY-MM-dd'}} 
                                </ng-container>
                                <ng-container *ngIf="element?.type === 'notification';">
                                    {{element?.createdAt | date: 'YYYY-MM-dd'}} 
                                </ng-container>
                            </td>
                        </ng-container>
                
                        <ng-container matColumnDef="content">
                            <th mat-header-cell *matHeaderCellDef> Content </th>
                            <td mat-cell *matCellDef="let element">
                                <ng-container *ngIf="element?.type === 'meeting';">
                                    <mat-chip [class]="element.type">
                                        Meeting
                                    </mat-chip>
                                        [{{element?.startTime}}] {{element.meetingTitle}} 
                                </ng-container>
                                <ng-container *ngIf="element?.type === 'notification';">
                                    <mat-chip [class]="element.type">
                                        Notification
                                    </mat-chip>
                                        [{{element.category}}] {{element.title}} 
                                </ng-container>
                            </td>
                        </ng-container>    

                        <ng-container matColumnDef="enter">
                            <th mat-header-cell *matHeaderCellDef></th>
                            <td mat-cell *matCellDef="let element">
                                <ng-container *ngIf="element?.type === 'meeting';">
                                    <div [routerLink]="['/company', companyId, 'meeting']"><mat-icon>launch</mat-icon></div>
                                </ng-container>
                                <ng-container *ngIf="element?.type === 'notification';">
                                    <div [routerLink]="['/company', companyId, 'notification']"><mat-icon>launch</mat-icon></div>
                                </ng-container>
                            </td>
                        </ng-container>    
                
                        <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
                        <tr mat-row *matRowDef="let row; columns: displayedColumns;" (click)="onRowClick(row)"></tr>
                        <tr class="mat-row" *matNoDataRow>
                        <td class="mat-cell" colspan="9999">
                            No data
                        </td>
                        </tr>
                    </table>          
                </section>

                    <mat-paginator [length]="100" [pageSize]="6" [pageSizeOptions]="[6, 10, 50]" showFirstLastButtons></mat-paginator>
            </mat-card>
        </div>
    </div>
    
</div>