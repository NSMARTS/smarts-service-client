<div class="page">
    <div class="page_title">Summary</div>

    <div class="dashboard_twin_container">

        <div class="dashboard_left_container">
            <div class="dashboard_left_top_container">
                <mat-card>
                    <mat-card-header>
                        <mat-card-subtitle>COMPANY</mat-card-subtitle>
                    </mat-card-header>
                    <mat-card-content>
                        <p>{{allCount?.companyCount}}</p>
                        <mat-divider></mat-divider>
                    </mat-card-content>
                    <mat-card-actions>
                        <button mat-button>COMPANY</button>
                    </mat-card-actions>
                </mat-card>
                <mat-card>
                    <mat-card-header>
                        <mat-card-subtitle>EMPLOYEE</mat-card-subtitle>
                    </mat-card-header>
                    <mat-card-content>
                        <p>{{allCount?.employeeCount}}</p>
                        <mat-divider></mat-divider>
                    </mat-card-content>
                    <mat-card-actions>
                        <button mat-button>EMPLOYEE</button>
                    </mat-card-actions>
                </mat-card>
                <mat-card>
                    <mat-card-header>
                        <mat-card-subtitle>SUPER MANAGER</mat-card-subtitle>
                    </mat-card-header>
                    <mat-card-content>
                        <p>{{allCount?.superManagerCount
                        }}</p>
                        <mat-divider></mat-divider>
                    </mat-card-content>
                    <mat-card-actions>
                        <button mat-button>MANAGER</button>
                    </mat-card-actions>
                </mat-card>
                <mat-card>
                    <mat-card-header>
                        <mat-card-subtitle>MANAGER</mat-card-subtitle>
                    </mat-card-header>
                    <mat-card-content>
                        <p>{{allCount?.managerCount}}</p>
                        <mat-divider></mat-divider>
                    </mat-card-content>
                    <mat-card-actions>
                        <button mat-button>MANAGER</button>
                    </mat-card-actions>
                </mat-card>
            </div>
            <div class="dashboard_left_bottom_container">
                <mat-card>
                    <mat-button-toggle-group [(ngModel)]="toggleValue" (ngModelChange)="onToggleChange()">
                        <mat-button-toggle value="all">All</mat-button-toggle>
                        <mat-button-toggle value="pay">Pay</mat-button-toggle>
                        <mat-button-toggle value="meeting">Meeting</mat-button-toggle>
                        <mat-button-toggle value="notice">Notice</mat-button-toggle>
                      </mat-button-toggle-group>

                            <table mat-table class="table" [dataSource]="toogleList">

                                <ng-container matColumnDef="date">
                                <th mat-header-cell *matHeaderCellDef> Date </th>
                                <td mat-cell *matCellDef="let element"> {{element?.date | date: 'YYYY-MM-dd'}} </td>
                                </ng-container>
                        
                                <ng-container matColumnDef="content">
                                <th mat-header-cell *matHeaderCellDef> Content </th>
                                <td mat-cell *matCellDef="let element">
                                    <ng-container *ngIf="element?.type === 'pay';">
                                        <mat-chip>
                                            Pay
                                        </mat-chip>
                                        {{element?.date | date: 'MM월 월급날'}}
                                    </ng-container>
                                    <ng-container *ngIf="element?.type === 'meeting';">
                                        <mat-chip>
                                            Meeting
                                        </mat-chip>
                                        {{element.content}}
                                    </ng-container>
                                </td>
                                </ng-container>
                        
                                <ng-container matColumnDef="company">
                                    <th mat-header-cell *matHeaderCellDef> Company </th>
                                    <td mat-cell *matCellDef="let element"> {{element?.companyName}} </td>
                                </ng-container>        
                        
                                <ng-container matColumnDef="detail">
                                <th mat-header-cell *matHeaderCellDef></th>
                                <td mat-cell *matCellDef="let element">
                                    <ng-container *ngIf="element?.type === 'pay';">
                                        <div [routerLink]="['/company', element?.companyId, 'pay-stub']">Company</div>
                                    </ng-container>
                                    <ng-container *ngIf="element?.type === 'meeting';">
                                        <div [routerLink]="['/company', element?.companyId, 'meeting']">Company</div>
                                    </ng-container> 
                                </td>
                                </ng-container>
                        
                                <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
                                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                                <tr class="mat-row" *matNoDataRow>
                                <td class="mat-cell" colspan="9999">
                                    No data
                                </td>
                                </tr>
    
                            </table>

                    <mat-paginator [length]="100" [pageSize]="10" [pageSizeOptions]="[5, 10, 50]" showFirstLastButtons></mat-paginator>
                    
                </mat-card>
            </div>
        </div>

        <div class="dashboard_right_container">
            <mat-card>
                <mat-card-header>
                    <mat-card-title>COUNTRY</mat-card-title>
                </mat-card-header>
                <mat-card-content>
                    <img mat-card-lg-image src="https://material.angular.io/assets/img/examples/shiba2.jpg" >
                    <p>{{allCountryCount}} Countries</p>
                    <mat-card-subtitle>A Registered Country</mat-card-subtitle>
                    <mat-divider></mat-divider>
                </mat-card-content>
                <mat-card-footer>
                    <mat-card-subtitle>List</mat-card-subtitle>
                    <table mat-table class="table" [dataSource]="allCountry">

                        <ng-container matColumnDef="countryName">
                            <th mat-header-cell *matHeaderCellDef></th>
                            <td mat-cell *matCellDef="let element"> {{element?.countryName}} </td>
                        </ng-container>
            
                        <ng-container matColumnDef="detail">
                            <th mat-header-cell *matHeaderCellDef></th>
                            <td mat-cell *matCellDef="let element">
                                <button mat-flat-button (click)="selectHoliday(element._id)">detail</button>
                            </td>
                        </ng-container>
            
                        <tr mat-header-row *matHeaderRowDef="displayedColumns2"></tr>
                        <tr mat-row *matRowDef="let row; columns: displayedColumns2;"></tr>
                        <tr class="mat-row" *matNoDataRow>
                            <td class="mat-cell" colspan="9999">
                                No data
                            </td>
                        </tr>
            
                    </table>
                </mat-card-footer>
            </mat-card>
        </div>

    </div>

</div>